package main

import (
	"encoding/json"
	"fmt"
	"strings"
)

func main() {
	// Tu string de entrada con JSON separados por saltos de línea
	// Dividir el string en líneas (cada línea es un JSON)
	inputJSONString := `{"id":2194812574,"entity_id":5221674198,"entity_type":"claims","plan_name":"pnr_dispute_opened","task_name":"payments_status","uri":"/claims/workers/tasks/payments_status","result":"[http_status: 400] || 400 is not a successful response status for rest call [ POST /claims/workers/tasks/payments_status | Body: {\"id\":2194812574} ] - Error executing change payment status: 409 is not a successful response status for rest call [ PUT /v1/payments/65000289310?caller.id=586520200&client.id=1843996409054571 | Body: {\"status\":\"in_mediation\"} ] - The action requested is not valid for the current payment state","status":"failed","retry":0}
{"id":2195043179,"entity_id":5221709284,"entity_type":"claims","plan_name":"pnr_dispute_opened","task_name":"payments_status","uri":"/claims/workers/tasks/payments_status","result":"[http_status: 400] || 400 is not a successful response status for rest call [ POST /claims/workers/tasks/payments_status | Body: {\"id\":2195043179} ] - Error executing change payment status: 409 is not a successful response status for rest call [ PUT /v1/payments/65008736152?caller.id=794908452&client.id=1843996409054571 | Body: {\"status\":\"in_mediation\"} ] - The action requested is not valid for the current payment state","status":"failed","retry":0}
{"id":2195426319,"entity_id":5221767844,"entity_type":"claims","plan_name":"pnr_claim_opened","task_name":"payment_status","uri":"/claims/workers/tasks/payments_status","result":"[http_status: 400] || 400 is not a successful response status for rest call [ POST /claims/workers/tasks/payments_status | Body: {\"id\":2195426319} ] - Error executing change payment status: 409 is not a successful response status for rest call [ PUT /v1/payments/65019544202?caller.id=263438228&client.id=1843996409054571 | Body: {\"status\":\"in_mediation\"} ] - The action requested is not valid for the current payment state","status":"failed","retry":0}
{"id":2195433127,"entity_id":5221768834,"entity_type":"claims","plan_name":"claim_opened","task_name":"payment_status","uri":"/claims/workers/tasks/payments_status","result":"[http_status: 400] || 400 is not a successful response status for rest call [ POST /claims/workers/tasks/payments_status | Body: {\"id\":2195433127} ] - Error executing change payment status: 409 is not a successful response status for rest call [ PUT /v1/payments/65021453704?caller.id=99129004&client.id=1843996409054571 | Body: {\"status\":\"in_mediation\"} ] - The action requested is not valid for the current payment state","status":"failed","retry":0}
{"id":2195442495,"entity_id":5221770221,"entity_type":"claims","plan_name":"pnr_claim_opened","task_name":"payment_status","uri":"/claims/workers/tasks/payments_status","result":"[http_status: 400] || 400 is not a successful response status for rest call [ POST /claims/workers/tasks/payments_status | Body: {\"id\":2195442495} ] - Error executing change payment status: 409 is not a successful response status for rest call [ PUT /v1/payments/64858539923?caller.id=151443110&client.id=1843996409054571 | Body: {\"status\":\"in_mediation\"} ] - The action requested is not valid for the current payment state","status":"failed","retry":0}
{"id":2195489010,"entity_id":5221777237,"entity_type":"claims","plan_name":"pnr_dispute_opened","task_name":"payments_status","uri":"/claims/workers/tasks/payments_status","result":"[http_status: 400] || 400 is not a successful response status for rest call [ POST /claims/workers/tasks/payments_status | Body: {\"id\":2195489010} ] - Error executing change payment status: 409 is not a successful response status for rest call [ PUT /v1/payments/64862138045?caller.id=794908452&client.id=1843996409054571 | Body: {\"status\":\"in_mediation\"} ] - The action requested is not valid for the current payment state","status":"failed","retry":0}
{"id":2195500407,"entity_id":5221778875,"entity_type":"claims","plan_name":"pnr_claim_opened","task_name":"payment_status","uri":"/claims/workers/tasks/payments_status","result":"[http_status: 400] || 400 is not a successful response status for rest call [ POST /claims/workers/tasks/payments_status | Body: {\"id\":2195500407} ] - Error executing change payment status: 409 is not a successful response status for rest call [ PUT /v1/payments/64862184759?caller.id=198672718&client.id=1843996409054571 | Body: {\"status\":\"in_mediation\"} ] - The action requested is not valid for the current payment state","status":"failed","retry":0}
{"id":2195552970,"entity_id":5221786615,"entity_type":"claims","plan_name":"pnr_claim_opened","task_name":"payment_status","uri":"/claims/workers/tasks/payments_status","result":"[http_status: 400] || 400 is not a successful response status for rest call [ POST /claims/workers/tasks/payments_status | Body: {\"id\":2195552970} ] - Error executing change payment status: 409 is not a successful response status for rest call [ PUT /v1/payments/65025370256?caller.id=12611595&client.id=1843996409054571 | Body: {\"status\":\"in_mediation\"} ] - The action requested is not valid for the current payment state","status":"failed","retry":0}
{"id":2195794909,"entity_id":5221820575,"entity_type":"claims","plan_name":"claim_opened","task_name":"payment_status","uri":"/claims/workers/tasks/payments_status","result":"[http_status: 400] || 400 is not a successful response status for rest call [ POST /claims/workers/tasks/payments_status | Body: {\"id\":2195794909} ] - Error executing change payment status: 409 is not a successful response status for rest call [ PUT /v1/payments/64871114435?caller.id=637768661&client.id=1843996409054571 | Body: {\"status\":\"in_mediation\"} ] - The action requested is not valid for the current payment state","status":"failed","retry":0}
{"id":2195888241,"entity_id":5221833814,"entity_type":"claims","plan_name":"pnr_claim_opened","task_name":"payment_status","uri":"/claims/workers/tasks/payments_status","result":"[http_status: 400] || 400 is not a successful response status for rest call [ POST /claims/workers/tasks/payments_status | Body: {\"id\":2195888241} ] - Error executing change payment status: 409 is not a successful response status for rest call [ PUT /v1/payments/65034669140?caller.id=66088783&client.id=1843996409054571 | Body: {\"status\":\"in_mediation\"} ] - The action requested is not valid for the current payment state","status":"failed","retry":0}
{"id":2195955582,"entity_id":5221845030,"entity_type":"claims","plan_name":"pnr_claim_opened","task_name":"payment_status","uri":"/claims/workers/tasks/payments_status","result":"[http_status: 400] || 400 is not a successful response status for rest call [ POST /claims/workers/tasks/payments_status | Body: {\"id\":2195955582} ] - Error executing change payment status: 409 is not a successful response status for rest call [ PUT /v1/payments/65039635444?caller.id=153711276&client.id=1843996409054571 | Body: {\"status\":\"in_mediation\"} ] - The action requested is not valid for the current payment state","status":"failed","retry":0}
{"id":2196058859,"entity_id":5221860403,"entity_type":"claims","plan_name":"pnr_claim_opened","task_name":"payment_status","uri":"/claims/workers/tasks/payments_status","result":"[http_status: 400] || 400 is not a successful response status for rest call [ POST /claims/workers/tasks/payments_status | Body: {\"id\":2196058859} ] - Error executing change payment status: 409 is not a successful response status for rest call [ PUT /v1/payments/64881168277?caller.id=270700931&client.id=1843996409054571 | Body: {\"status\":\"in_mediation\"} ] - The action requested is not valid for the current payment state","status":"failed","retry":0}
{"id":2196115312,"entity_id":5221869512,"entity_type":"claims","plan_name":"pnr_claim_opened","task_name":"payment_status","uri":"/claims/workers/tasks/payments_status","result":"[http_status: 400] || 400 is not a successful response status for rest call [ POST /claims/workers/tasks/payments_status | Body: {\"id\":2196115312} ] - Error executing change payment status: 409 is not a successful response status for rest call [ PUT /v1/payments/65045333236?caller.id=465364701&client.id=1843996409054571 | Body: {\"status\":\"in_mediation\"} ] - The action requested is not valid for the current payment state","status":"failed","retry":0}
{"id":2196122980,"entity_id":5221870893,"entity_type":"claims","plan_name":"pnr_claim_opened","task_name":"payment_status","uri":"/claims/workers/tasks/payments_status","result":"[http_status: 400] || 400 is not a successful response status for rest call [ POST /claims/workers/tasks/payments_status | Body: {\"id\":2196122980} ] - Error executing change payment status: 409 is not a successful response status for rest call [ PUT /v1/payments/64884464799?caller.id=80763579&client.id=1843996409054571 | Body: {\"status\":\"in_mediation\"} ] - The action requested is not valid for the current payment state","status":"failed","retry":0}
{"id":2196144215,"entity_id":5221874613,"entity_type":"claims","plan_name":"pnr_claim_opened","task_name":"payment_status","uri":"/claims/workers/tasks/payments_status","result":"[http_status: 400] || 400 is not a successful response status for rest call [ POST /claims/workers/tasks/payments_status | Body: {\"id\":2196144215} ] - Error executing change payment status: 409 is not a successful response status for rest call [ PUT /v1/payments/64884644943?caller.id=2404969&client.id=1843996409054571 | Body: {\"status\":\"in_mediation\"} ] - The action requested is not valid for the current payment state","status":"failed","retry":0}
{"id":2196264651,"entity_id":5221888561,"entity_type":"claims","plan_name":"pnr_claim_opened","task_name":"payment_status","uri":"/claims/workers/tasks/payments_status","result":"[http_status: 400] || 400 is not a successful response status for rest call [ POST /claims/workers/tasks/payments_status | Body: {\"id\":2196264651} ] - Error executing change payment status: 409 is not a successful response status for rest call [ PUT /v1/payments/65049684014?caller.id=180691324&client.id=1843996409054571 | Body: {\"status\":\"in_mediation\"} ] - The action requested is not valid for the current payment state","status":"failed","retry":0}
{"id":2196366072,"entity_id":5221895649,"entity_type":"claims","plan_name":"pnr_claim_opened","task_name":"payment_status","uri":"/claims/workers/tasks/payments_status","result":"[http_status: 400] || 400 is not a successful response status for rest call [ POST /claims/workers/tasks/payments_status | Body: {\"id\":2196366072} ] - Error executing change payment status: 409 is not a successful response status for rest call [ PUT /v1/payments/65051093666?caller.id=16838207&client.id=1843996409054571 | Body: {\"status\":\"in_mediation\"} ] - The action requested is not valid for the current payment state","status":"failed","retry":0}
{"id":2196426819,"entity_id":5221902279,"entity_type":"claims","plan_name":"pnr_claim_opened","task_name":"payment_status","uri":"/claims/workers/tasks/payments_status","result":"[http_status: 400] || 400 is not a successful response status for rest call [ POST /claims/workers/tasks/payments_status | Body: {\"id\":2196426819} ] - Error executing change payment status: 409 is not a successful response status for rest call [ PUT /v1/payments/64890686665?caller.id=1357183313&client.id=1843996409054571 | Body: {\"status\":\"in_mediation\"} ] - The action requested is not valid for the current payment state","status":"failed","retry":0}`
	inputJSONLines := strings.Split(inputJSONString, "\n")

	// Crear un slice para almacenar los valores de "entity_id" como strings
	var entityIDSlice []string

	// Procesar cada línea (JSON) en el string de entrada
	for _, inputJSON := range inputJSONLines {
		// Decodificar el JSON
		var data map[string]interface{}
		if err := json.NewDecoder(strings.NewReader(inputJSON)).Decode(&data); err != nil {
			fmt.Println("Error al decodificar el JSON:", err)
			continue // Pasar a la siguiente línea si hay un error en el JSON
		}

		// Extraer el valor de "entity_id" como cadena
		entityID, ok := data["entity_id"].(float64)
		if !ok {
			fmt.Println("No se pudo extraer el valor de 'entity_id' del JSON:", inputJSON)
			continue // Pasar a la siguiente línea si no se puede extraer "entity_id"
		}

		// Convertir "entity_id" a cadena y agregarlo al slice
		entityIDSlice = append(entityIDSlice, fmt.Sprintf("%.0f", entityID))
	}

	// Imprimir el slice de "entity_id" como cadenas
	fmt.Println(strings.Join(entityIDSlice, ", "))
}
